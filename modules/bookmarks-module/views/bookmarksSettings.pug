paper-material#addBookmark.settingsMaterial
    template(is= "dom-bind", id="addBookmarkTemplate")
        div.settingsTitle
            |Add new bookmark:
        div.settingsContent
            form(is= "iron-form", id= "addBookmarkForm", action= "/bookmarks/addBookmark", method="POST")
                paper-input(label= "Name for your bookmark", name= "bookmarkName")
                paper-input(label= "Url for your bookmark", name= "bookmarkLink")
                paper-dropdown-menu(label= "category")
                    paper-menu.dropdown-content(attr-for-selected="value", selected= "{{category}}")
                        each category in bookmarks.categories
                            paper-item(value= category.name)= category.name
                        paper-item(value= "newCategory")= "Add new category"
                input(type="hidden", name="category", value="{{category}}")
                paper-toast(id= "noCategoryToast", text= "Please, select an category")
                paper-toast(id= "errorCategoryToast", text= "Error while adding new category")
                paper-toast#displayMethodToast(text="Display method updated")

        paper-button.settingsButton(onclick= "addBookmark()")
            iron-icon(icon="check")
            |Add
        paper-dialog(id="addNewCategoryDialog", modal)
            div.settingsTitle
                |Add new category
            div.settingsContent
                paper-input(id="newCategory", label="New category name")
            div.buttons
                paper-button(dialog-confirm)
                    iron-icon(icon="clear")
                    |Cancel
                paper-button(dialog-confirm, autofocus, onclick="addBookmarkWithNewCategory()")
                    iron-icon(icon="check")
                    |Add

paper-material#deleteCategory.settingsMaterial
    div.settingsTitle
        |Delete category:
    div.deleteMaterial.settingsContent(role="listbox")
        each category in bookmarks.categories
            paper-item.deleteCategoryItem
                paper-item-body('two-line')
                    div
                        =category.name
                    div('secondary')
                        =`${category.bookmarks.length} bookmarks in this category`
                paper-icon-button(icon="clear", onclick=`deleteCategory('${category.name}')`)
paper-material#deleteBookmark.settingsMaterial
    div.settingsTitle
        |Delete bookmark:
    div.settingsContent
    template(is= "dom-bind", id= "bookmarsToDelete")
        div.deleteBookmarksContent
            if bookmarks.categories.length > 1
                div.bookmarksItemsContainer
                    div.bookmarksItemsDrawer
                        paper-menu(selected="{{page}}", id="deleteBookmarkItemMenu")
                            each category in bookmarks.categories
                                paper-item.bookmarksItemsDrawerItem
                                    paper-item-body('two-line')
                                        div
                                            =category.name
                                        div('secondary')
                                            =`${category.bookmarks.length} bookmarks in this category`
                    div.bookmarksItemsContent
                        iron-pages(selected= "{{page}}" id="deleteBookmarkPages")
                            each category in bookmarks.categories
                                div
                                    each bookmark in category.bookmarks
                                        a.bookmarksItemsLink(href= bookmark.url)
                                            paper-item.bookmarksItemsItem
                                                paper-item-body(two-line)
                                                    div= bookmark.name
                                                    div(secondary)= bookmark.url
                                                paper-icon-button(icon="clear", onclick=`deleteBookmark('${bookmark.url}','${category.name}')`)
            else
                div.bookmarksItemsContent
                    each bookmark in bookmarks.categories[0].bookmarks
                        a.bookmarksItemsLink(href= bookmark.url)
                            paper-item.bookmarksItemsItem
                                paper-item-body(two-line)
                                    div= bookmark.name
                                    div(secondary)= bookmark.url


paper-material.settingsMaterial
    div.settingsTitle
        |Change display method
    div.settingsContent
        if view === 'items'
            paper-toggle-button#displayMethodMenu(checked)
                |Use item view
        else
            paper-toggle-button#displayMethodMenu
                |Use item view
